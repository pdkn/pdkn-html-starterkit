---
const navigationItems = [
  {
    "title": "Home",
    "url": "/"
  },
  {
    "title": "Pages",
    "url": "/pages",
    "icon": "pages",
    "sections": [
      {
        "title": "Home Page",
        "children": [
          {
            "title": "Home Page No #1",
            "url": "/"
          },
          {
            "title": "Home Page No #2",
            "url": "/"
          },
          {
            "title": "Home Page No #3",
            "url": "/"
          },
          {
            "title": "Home Page No #4",
            "url": "/"
          }
        ]
      },
      {
        "title": "Contact",
        "children": [
        {
            "title": "Contact Page No #1",
            "url": "/"
          },
          {
            "title": "Contact Page No #2",
            "url": "/"
          },
          {
            "title": "Contact Page No #3",
            "url": "/"
          },
          {
            "title": "Contact Page No #4",
            "url": "/"
          }
        ]
      },
      {
        "title": "Portfolio",
        "children": [
        {
            "title": "Portfolio Page No #1",
            "url": "/"
          },
          {
            "title": "Portfolio Page No #2",
            "url": "/"
          },
          {
            "title": "Portfolio Page No #3",
            "url": "/"
          },
          {
            "title": "Portfolio Page No #4",
            "url": "/"
          }
        ]
      },
      {
        "title": "Custom",
        "type": "image",
        "children": [
        {
            "title": "blar",
            "image": "https://source.unsplash.com/random/250x200",
            "url": "/"
          }
        ]
      },
    ]
  },
  {
    "title": "Images",
    "url": "/images",
    "icon": "images",
    "sections": [
      {
        "title": "Image 1",
        "type": "image",
        "children": [
        {
            "title": "blar",
            "image": "https://source.unsplash.com/random/250x200",
            "url": "/"
          }
        ]
      },
      {
        "title": "Image 1",
        "type": "image",
        "children": [
        {
            "title": "blar",
            "image": "https://source.unsplash.com/random/250x200",
            "url": "/"
          }
        ]
      },
      {
        "title": "Image 2",
        "type": "image",
        "children": [
        {
            "title": "blar",
            "image": "https://source.unsplash.com/random/250x200",
            "url": "/"
          }
        ]
      },
      {
        "title": "Image 3",
        "type": "image",
        "children": [
        {
            "title": "blar",
            "image": "https://source.unsplash.com/random/250x200",
            "url": "/"
          }
        ]
      },
      {
        "title": "Image 4",
        "type": "image",
        "children": [
        {
            "title": "blar",
            "image": "https://source.unsplash.com/random/250x200",
            "url": "/"
          }
        ]
      },
      {
        "title": "Image 5",
        "type": "image",
        "children": [
        {
            "title": "blar",
            "image": "https://source.unsplash.com/random/250x200",
            "url": "/"
          }
        ]
      },
      {
        "title": "Image 6",
        "type": "image",
        "children": [
        {
            "title": "blar",
            "image": "https://source.unsplash.com/random/250x200",
            "url": "/"
          }
        ]
      },
    ]
  },
  {
    "title": "About",
    "url": "/about"
  },
  {
    "title": "Contact",
    "url": "/contact"
  }
]
---
<nav class='bg-indigo-700 relative'>
    <ul class="m-auto w-[1000px]">
        {navigationItems.map((navItem) => 
            (<li class={navItem.sections && 'dropdown'}>
                <a href={navItem.url} class='flex items-center'>
                    {navItem.title} 
                    {navItem.sections && <i class="ml-2 h-0 w-0 border-x-4 border-x-transparent border-t-4 border-t-white"></i>}
                </a>
                <div class='mega-menu'>
                    <div class="flex m-auto w-[1000px]">
                    {navItem.sections && navItem.sections.map((sectionItem) => 
                        <div class="item">
                            <h3>{sectionItem.title}</h3>
                            <ul>
                                {sectionItem.children.map((item) =>
                                    <li>
                                        {sectionItem.type === 'image' ? 
                                        <img src={item.image} class='rounded-md'/> :
                                        <a href={item.url}>{item.title}</a>
                                        }
                                    </li>
                                )}
                            </ul>
                        </div>
                    )}
                    </div>
                </div>
            </li>)
        )}
</nav>

<style>
    @tailwind base;
    @tailwind components;
    @tailwind utilities;

    @layer components {
        a {text-decoration: none;}

        ul {
            @apply pl-0 my-0 list-none
        }


        nav > ul > li {
            display: inline-block;
            padding: 0 15px;
            position: relative;
        }

        nav > ul > li > a {
            color: #fff;
            display: block;
            padding: 20px 0;
            border-bottom: 3px solid transparent;
            transition: all .3s ease;
        }
        nav > ul > li:hover > a {
            color: #444; 
            border-bottom: 3px solid #444;
        }

        .mega-menu {
            background: #eee;
            visibility: hidden;
            opacity: 0;
            transition: visibility 0s, opacity 0.5s linear;
            position: absolute;
            left: 0;
            width: 100%;
            padding-bottom: 20px;
        }
        .mega-menu h3 {color: #444;}

        .mega-menu .container {
            display: flex;
        }
        .mega-menu .item {
            flex-grow: 1;
            margin: 0 10px;
        }
        .mega-menu .item img {
            width: 100%;
        }
        .mega-menu a {
            border-bottom: 1px solid #ddd;
            color: #4ea3d8;
            display: block;
            padding: 10px 0;
        }
        .mega-menu a:hover {color: #2d6a91;}


        .dropdown {position: static;}

        .dropdown:hover .mega-menu {
            visibility: visible;
            opacity: 1;
        }
    }
</style>
